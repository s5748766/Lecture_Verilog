# 📘 Vi / Vim 사용법 초급 → 중급 정복 가이드  
Linux/Unix 환경에서 필수로 사용되는 **Vi/Vim 편집기**의 핵심 명령어를 초급부터 중급까지 체계적으로 정리했습니다.  
이 문서 하나로 GitHub README 용도로 바로 사용 가능합니다.

---

## 📑 목차
1. [Vi / Vim 소개](#vi--vim-소개)  
2. [Vim 기본 모드](#vim-기본-모드)  
3. [초급: 기본 파일 조작](#초급-기본-파일-조작)  
4. [초급: 이동 명령어](#초급-이동-명령어)  
5. [초급: 편집 명령어](#초급-편집-명령어)  
6. [중급: 복사·붙여넣기·삭제](#중급-복사붙여넣기삭제)  
7. [중급: 검색과 치환](#중급-검색과-치환)  
8. [중급: 창 분할과 버퍼](#중급-창-분할과-버퍼)  
9. [중급: 비주얼(Visual) 모드](#중급-비주얼visual-모드)  
10. [중급: 설정(.vimrc) 기본](#중급-설정vimrc-기본)  
11. [유용한 팁](#유용한-팁)  
12. [단축 레퍼런스(치트시트)](#단축-레퍼런스치트시트)

---

## 1. Vi / Vim 소개
- **Vi**는 대부분의 Unix/Linux에 기본 포함된 텍스트 편집기  
- **Vim**은 *Vi Improved* (향상된 Vi)로 Vi의 상위 호환  
- 서버/임베디드/리눅스 환경에서 사실상 표준 편집기

실행:
```bash
vi filename.txt
vim filename.txt
vim file1.txt file2.txt   # 여러 파일 동시 열기
```

종료/저장(명령 모드에서 `:` 입력 후):
```text
:w      # 저장
:q      # 종료
:wq     # 저장 후 종료
:x      # 변경사항 있을 때만 저장 후 종료
:q!     # 저장하지 않고 강제 종료
```

---

## 2. Vim 기본 모드
| 모드 | 전환 키 | 설명 |
|------|---------|------|
| **Normal** | `Esc` | 기본 상태. 이동/복사/삭제/명령 수행 |
| **Insert** | `i`, `a`, `o` 등 | 텍스트 입력 |
| **Visual** | `v`, `V`, `Ctrl+v` | 선택/블록 편집 |
| **Command** | `:` | 저장/치환/설정 등 명령 실행 |

모드 전환(핵심):
```
i        입력 (커서 앞)
I        줄 맨 앞에서 입력
a        입력 (커서 뒤)
A        줄 맨 끝에서 입력
o        현재 줄 아래에 새 줄 열고 입력
O        현재 줄 위에 새 줄 열고 입력
Esc      노멀 모드로 복귀
:        커맨드 모드
v        비주얼(문자) 선택
V        비주얼(라인) 선택
Ctrl+v   비주얼(블록/컬럼) 선택
```

---

## 3. 초급: 기본 파일 조작
파일 열기/생성은 동일합니다. 파일이 없으면 새로 만듭니다.
```bash
vim newfile.txt
```

저장 및 종료:
```text
:w        # 저장
:q        # 종료
:wq       # 저장 후 종료
:q!       # 강제 종료(변경사항 폐기)
:help     # 도움말 열기
```

여러 파일 탭처럼 열기/이동(버퍼 기반):
```vim
:args file1 file2 file3
:next         " 다음 파일
:prev         " 이전 파일
:rewind       " 첫 파일
:last         " 마지막 파일
```

---

## 4. 초급: 이동 명령어
### 기본 이동
```
h  왼쪽   j  아래   k  위   l  오른쪽
```

### 단어/문장/문서 단위 이동
```
w   다음 단어 시작
b   이전 단어 시작
e   현재/다음 단어 끝
ge  이전 단어 끝

0   줄 맨 앞
^   줄의 첫 글자(공백 제외)
$   줄 맨 끝

gg  파일 처음
G   파일 끝
{   이전 문단
}   다음 문단

숫자 + G    특정 줄로 이동 (예: 42G)
:숫자       동일 (예: :42)
```

### 검색 기반 이동
```
f{char}   현재 줄에서 오른쪽으로 {char} 위치로
F{char}   왼쪽으로 {char} 위치로
t{char}   {char} 바로 앞까지
T{char}   {char} 바로 뒤까지
; / ,     f/t 반복 (순방향/역방향)
```

---

## 5. 초급: 편집 명령어
### 입력(Insert)
```
i / I / a / A / o / O
```

### 삭제(Delete)
```
x         한 글자 삭제
X         커서 왼쪽 한 글자 삭제
dw        단어 삭제 (커서~단어 끝)
db        단어 삭제 (커서~단어 시작)
de        단어 끝까지 삭제
dd        한 줄 삭제
D (= d$)  커서~줄 끝 삭제
d0        커서~줄 처음 삭제
ndd       n줄 삭제 (예: 3dd)
```

### 변경(Change)
```
cw        단어 변경(삭제 후 입력)
C (= c$)  줄 끝까지 변경
cc        한 줄 변경
s         한 글자 변경
S         한 줄 전체 변경(= cc)
r{char}   커서 글자 1개를 {char}로 교체
R         덮어쓰기(Overwrite) 모드
```

### 되돌리기/다시 실행
```
u         Undo
Ctrl+r    Redo
```

---

## 6. 중급: 복사·붙여넣기·삭제
### 복사(Yank)
```
yy        현재 줄 복사
nyy       n줄 복사 (예: 5yy)
yw        단어 복사
y$        커서~줄 끝 복사
y0        커서~줄 처음 복사
v{이동}y  비주얼 선택 후 복사
```

### 붙여넣기(Put)
```
p         커서 뒤/아래에 붙여넣기
P         커서 앞/위에 붙여넣기
]p        들여쓰기 맞춰서 붙여넣기
```

### 잘라내기(Delete로 대체)
> Vim은 삭제(`d`)가 곧 잘라내기이며, 삭제한 내용은 자동으로 레지스터에 저장됩니다.
```
dd, d{motion}, x 등 → 이후 p/P 로 붙여넣기
```

### 숫자 동작(반복)
```
3dw      단어 3개 삭제
10j      아래로 10줄 이동
5yy      5줄 복사
```

---

## 7. 중급: 검색과 치환
### 검색(Search)
```
/keyword     아래 방향 검색
?keyword     위 방향 검색
n            같은 방향 다음 결과
N            반대 방향 이전 결과
*            커서 단어를 아래로 검색
#            커서 단어를 위로 검색
```

정규식 예시:
```
/^foo        줄 시작에서 foo
/bar$        줄 끝에서 bar
/\<word\>    정확히 'word' 단어
/\vfoo.+bar  'very magic' 정규식
```

### 치환(Substitute)
범위: `:%`는 전체, `:10,20`은 10~20줄, `:.` 현재 줄, `:'<,'>` 비주얼 선택영역
```vim
:%s/old/new/g           " 전체에서 모두 치환
:%s/old/new/gc          " 하나씩 확인하며 치환
:10,20s/old/new/g       " 10~20줄 치환
:%s/\<foo\>/bar/g       " 단어 경계 한정 치환
:%s/\/home/\/data/g     " 슬래시 이스케이프 예시
:%s#old/path#new/path#g " 구분자 # 사용 예시
```

하이라이트 토글:
```vim
:set hlsearch      " 매칭 하이라이트
:set nohlsearch    " 하이라이트 해제
:noh               " 일시적으로 해제
```

---

## 8. 중급: 창 분할과 버퍼
### 창 분할(Split)
```vim
:sp filename         " 수평(split)로 열기
:vsp filename        " 수직(vertical split)로 열기
:split               " 현재 파일 분할
:vsplit
```

### 창 간 이동 (노멀 모드에서)
```
Ctrl+w h    왼쪽 창
Ctrl+w l    오른쪽 창
Ctrl+w j    아래 창
Ctrl+w k    위 창
Ctrl+w w    다음 창 순환
```

### 창 크기 조절
```
Ctrl+w =    모든 창 동일 크기
Ctrl+w +    높이 증가
Ctrl+w -    높이 감소
Ctrl+w >    폭 증가
Ctrl+w <    폭 감소
```

### 버퍼(Buffer) 관리
```vim
:ls            " 버퍼 목록
:bnext (bn)    " 다음 버퍼
:bprev (bp)    " 이전 버퍼
:buffer N      " N번 버퍼로 이동
:bdelete       " 버퍼 닫기
:enew          " 새 빈 버퍼
```

탭(tab) 유사 기능(실제 Vim 탭):
```vim
:tabnew filename
:tabnext
:tabprev
:tabclose
:tabs
```

---

## 9. 중급: 비주얼(Visual) 모드
종류:
```
v        문자 단위 선택
V        라인 단위 선택
Ctrl+v   블록(컬럼) 선택
```

자주 쓰는 동작:
```
y        선택 복사
d        선택 삭제(잘라내기)
c        선택 변경(입력 대기)
> / <    들여쓰기 / 내어쓰기
=        자동 들여쓰기 정렬
gU / gu  대문자화 / 소문자화
```

**여러 줄 주석 처리(블록 모드 응용 예시)**  
1) `Ctrl+v` → 열 선택 → `I` → `#` 입력 → `Esc`  
2) 선택 영역 각 줄의 앞에 `#`가 삽입됨

---

## 10. 중급: 설정(.vimrc) 기본
홈 디렉토리에 `.vimrc` 생성:
```bash
vi ~/.vimrc
```

다음은 실전용 기본 예시입니다:
```vim
" ========== UI 기본 ==========
set number              " 줄 번호
set relativenumber      " 상대 줄 번호
set cursorline          " 현재 줄 하이라이트
syntax on               " 문법 강조
set showmatch           " 괄호 매칭 표시
set list                " 탭/공백 표시
set listchars=tab:»·,trail:·,nbsp:␣

" ========== 검색 ==========
set hlsearch            " 검색 하이라이트
set incsearch           " 입력과 동시에 점진 검색
set ignorecase          " 대소문자 무시
set smartcase           " 대문자 포함 시 대소문자 구분

" ========== 들여쓰기/탭 ==========
set autoindent
set smartindent
set expandtab           " 탭 대신 스페이스
set tabstop=4
set shiftwidth=4
set softtabstop=4

" ========== 기타 ==========
set mouse=a             " 마우스 사용
set clipboard=unnamedplus " 시스템 클립보드 연동(가능한 환경)
set backspace=indent,eol,start " 백스페이스 동작 개선
filetype plugin indent on
```

플러그인 관리(간단 안내):  
- **vim-plug** 사용 예시(설치 후 `~/.vimrc`에 추가):
```vim
call plug#begin('~/.vim/plugged')
" Plug 'preservim/nerdtree'
" Plug 'junegunn/fzf', { 'do': { -> fzf#install() } }
" Plug 'junegunn/fzf.vim'
call plug#end()
```
Vim에서 `:PlugInstall` 실행.

---

## 11. 유용한 팁
### 변경 이력 점프
```
g;    이전 변경 위치로 이동
g,    다음 변경 위치로 이동
```
### 매크로(기초)
```
q{a-z}   {레지스터}에 녹화 시작 (예: qa)
q        녹화 종료
@{a-z}   매크로 실행 (예: @a)
@@       마지막 매크로 반복
```

### 레지스터(기초)
```
"0      마지막 복사본(얀크) 레지스터
"1~"9   최근 삭제/변경 기록
"+      시스템 클립보드 (환경에 따라)
"*      X11 선택 버퍼
"ayy    a 레지스터에 현재 줄 복사
"ap     a 레지스터 내용 붙여넣기
```

### 마크/점프
```
ma        현재 위치를 a 마크로 지정
`a        a 마크 위치로 점프(정확 위치)
'a        a 마크 라인의 시작으로 점프
```
파일 간 점프 히스토리:
```
Ctrl+o     뒤로
Ctrl+i     앞으로
```

### 파일명/경로/정보
```
:echo @%      현재 파일명
:pwd          현재 작업 디렉토리
:echo expand('%:p')   절대경로
```

### 라인 정렬/정리
```
==           현재 줄 자동 들여쓰기
gg=G         문서 전체 자동 들여쓰기
:%s/\s\+$//g  줄 끝 공백 제거
```

---

## 12. 단축 레퍼런스(치트시트)
### 저장/종료
```
:w   저장     :q   종료     :wq   저장+종료     :q!   강종
```

### 이동
```
h j k l     왼/아/위/오
0 ^ $       줄 처음/첫글자/끝
gg / G      파일 처음/끝
w b e       단어 단위 이동
f{c} t{c}   문자 찾기/앞까지
; ,         f/t 반복
숫자+명령   반복(예: 5j, 3dd)
```

### 편집
```
i a o O     입력
x X         글자 삭제
dd D d0     줄/끝까지/처음까지 삭제
cw cc C     변경(단어/줄/줄끝까지)
r R         한 글자 교체 / 덮어쓰기
u Ctrl+r    Undo / Redo
```

### 복사/붙여넣기
```
yy nyy      줄 복사 / n줄 복사
yw y$ y0    단어/끝까지/처음까지 복사
p P         붙여넣기(뒤/앞)
```

### 검색/치환
```
/ ?         아래/위로 검색
n N         다음/이전 결과
* #         커서 단어 검색(아래/위)
:%s/old/new/g[ic]   전체 치환(+옵션)
```

### 스플릿/버퍼/탭
```
:sp :vsp    수평/수직 분할
Ctrl+w hjkl 창 이동
:ls         버퍼 목록
:bnext      다음 버퍼
:tabnew     새 탭
:tabnext    다음 탭
```

---

## ✅ 마무리
이 문서는 **Vi/Vim 초급→중급**에 필요한 필수 기능을 빈틈 없이 담았습니다.  
추가로 원하시면 다음 자료도 제공 가능합니다.

- 고급편(매크로 심화, 레지스터 활용, 플러그인 워크플로, LSP)
- 교육용 PPT / PDF
- 단축키 포스터(A3) / 키보드 스티커 템플릿
- 사내 표준 `.vimrc` 패키지

궁금한 점이나 보완하고 싶은 섹션이 있으면 Issue/PR로 알려주세요! ✨
